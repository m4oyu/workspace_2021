# chap 17 Go言語とコンテナ
- DockerのコアはGoのlibcontainerというライブラリ

## 1 仮想化
- エミュレーション：パフォーマンスは大きく落ちるが
- ネイティブ仮想化：同じアーキテクチャのモノに限る

### 1.1 仮想化は低レイヤーの技術の組み合わせ
- VT-x：ユーザーモード、特権モードの下に、ハイパーバイザー用OSのモードを追加し、処理を渡す
- 拡張ページテーブル：ゲストOSとホストOSのメモリアドレスを変換する
- VT-d：外部ハードウェアとのアクセスをホストを介さずにできる
- VT-c：ネットワークの仮想化

## 2 コンテナ
- OSのカーネルはホストのものを使うが、アプリケーションから見て自由に使えるOS環境が手に入る
- cgroups：次の項目の使用量とアクセスを制限できるようにするカーネルの昨日
    - CPU
    - メモリ
    - ブロックデバイス
    - ネットワーク
    - /dev以下のデバイスファイル
- Namespaces
    - プロセスID
    - ネットワーク
    - マウント
    - UTS(ホスト名)
    - IPC(セマフォ、MQ、共有メモリなどのプロセス間通信)
    - ユーザー(UID、GID)
    
## 3 libcontainerでコンテナを自作する

